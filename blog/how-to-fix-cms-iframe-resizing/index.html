<!DOCTYPE html>
<html>
  <head><meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Julius+Sans+One|Slabo+13px|Open+Sans:300" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://codecreative.io/assets/main.min.134f18f3e3a03f460e46afb7417c639309b72631f8a425376d406f35fac25eb1.css">
<title>How to Fix CMS iFrame Resizing (Video) | CodeCreative | A ServiceNow Blog</title>
<meta name="description" content="Everyone has that one thing that makes them hate their job. And I don’t mean I’m just gonna stop going I hate my job. I mean I could set the building on fire I hate my job. For me, that thing is iFrames.">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?d=20181101201248">
<link rel="canonical" href="https://codecreative.io/blog/how-to-fix-cms-iframe-resizing/"><meta property="og:site_name" content="CodeCreative | A ServiceNow Blog">
<meta property="og:title" content="How to Fix CMS iFrame Resizing (Video)">
<meta property="og:url" content="https://codecreative.io/blog/how-to-fix-cms-iframe-resizing/">

<meta property="og:type" content="article">

<meta property="og:description" content="Everyone has that one thing that makes them hate their job. And I don’t mean I’m just gonna stop going I hate my job. I mean I could set the building on fire I hate my job. For me, that thing is iFrames.">

<meta itemprop="name" content="How to Fix CMS iFrame Resizing (Video)">
<meta itemprop="url" content="https://codecreative.io/blog/how-to-fix-cms-iframe-resizing/">
<meta itemprop="description" content="Everyone has that one thing that makes them hate their job. And I don’t mean I’m just gonna stop going I hate my job. I mean I could set the building on fire I hate my job. For me, that thing is iFrames.">


<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-90280965-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-90280965-1');
</script>

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://codecreative.io/"
    },
    "name" : "How to Fix CMS iFrame Resizing (Video)",
    "headline" : "How to Fix CMS iFrame Resizing (Video)",
    "description" : "Everyone has that one thing that makes them hate their job. And I don’t mean I’m just gonna stop going I hate my job. I mean I could set the building on fire I hate my job. For me, that thing is iFrames.","inLanguage" : "en-US",
      "author" : "Travis Toulson",
      "creator" : "Travis Toulson","publisher": "Travis Toulson",
    "copyrightHolder" : "Travis Toulson",
    "copyrightYear" : "2016",
    "datePublished": "2016-05-03 16:00:00 &#43;0000 UTC",
    "dateModified" : "2016-05-03 16:00:00 &#43;0000 UTC",
    "url" : "https://codecreative.io/blog/how-to-fix-cms-iframe-resizing/",
    "wordCount" : "527",
    "keywords" : [ "Blog" ]
}
</script>


  </head>
  <body><header role="banner">
  <h1 class="logo">
      <a href="/">
         <img src="/assets/codecreativelogo.png" alt="How to Fix CMS iFrame Resizing (Video)" />
         <span class="sr-only">CodeCreative Logo, click to navigate home</span>
      </a>
    </h1>

  <div class="menuToggle">
    <button class="hamburger" type="button" onclick="toggleMenu()">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
      <span class="sr-only">Toggle Menu</span>
    </button>
  </div>

  <nav class="fullNav">
    <ul>
      
      
        <li title="Home">
          <a class="" href="/">Home</a>
        </li>
      
        <li title="Blog">
          <a class="" href="/blog/">Blog</a>
        </li>
      
        <li title="About">
          <a class="" href="/about/">About</a>
        </li>
      
        <li title="Contact">
          <a class="" href="/contact/">Contact</a>
        </li>
      
    </ul>
  </nav>
</header>
<main>
  <header class="banner">
    <h1>How to Fix CMS iFrame Resizing (Video)</h1>
  </header>

  <div class="content text-content">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

      <header class="post-header">
        <h1 class="post-title p-name sr-only" itemprop="name headline">How to Fix CMS iFrame Resizing (Video)</h1>
        <p class="post-meta">
            <time class="dt-published" datetime="2016-05-03T16:00:00Z" itemprop="datePublished">
            May 03, 2016
            </time>
          
            
            • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Travis Toulson</span></span>
          
        </p>
      </header>

      <div class="post-content e-content" itemprop="articleBody">
        

<p><strong>Update (03/21/2017):</strong> This script currently only works if the Frame Name on your iFrame is <em>gsft_main</em>. Thanks to Anil Varanasi for catching this!</p>

<div class="videoWrapper">
  <iframe src="//www.youtube.com/embed/LIamM4gjsmY?wmode=opaque&amp;enablejsapi=1" height="480" width="854" scrolling="no" frameborder="0" allowfullscreen="">
  </iframe>
</div>

<p>Everyone has that one thing that makes them hate their job. And I don’t mean I’m just gonna stop going I hate my job. I mean <em><a href="https://en.wikipedia.org/wiki/Office_Space">I could set the building on fire</a></em> I hate my job. For me, that thing is iFrames. ServiceNow has given them a lot of love over the years but as the dubbed Portal Guy of my team I would like to see them in an episode of <em><a href="http://www.willitblend.com">Will It Blend</a></em>.</p>

<p>The iFrame resize issue resurfaces in nearly every version of ServiceNow in an <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546515">on again</a>, <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551949">off again</a> fashion. For those paying attention, those two KB links alone account for Dublin, Eureka, Fuji, and Geneva. Hopefully the unveiling of Service Portal in Helsinki will render all this unnecessary. But for those still fighting the fight, here we go.</p>

<p>In order to understand the solution, it may first help to understand the real problem… the evil iFrame.</p>

<h2 id="html-document-flow">HTML Document Flow</h2>

<p>In a normal HTML page, blocks like paragraphs have a <a href="https://css-tricks.com/the-css-box-model/">natural flow</a>. That is, each block pushes subsequent blocks down the page. Think of each paragraph like a cardboard box containing its content, they naturally stack. You can also have container boxes, which normally have to be big enough to contain any boxes stacked inside. And in HTML, these are magic containers that expand their height to fit their contents, aren’t computers grand.</p>

<p>In HTML terms, this is how static positioning works for most blocks, except for iframes. The iframe retrieves its content from a separate URL and requires its height to be manually specified. If it isn’t big enough to contain your precious Catalog Order form, sorry, that content gets pushed into an area reachable only by an odd secondary scrollbar.</p>

<h2 id="servicenow-s-fragile-solution">ServiceNow’s (Fragile) Solution</h2>

<p>ServiceNow gets around this limitation by providing a script that automatically calculates the size of an iframe’s contents and changes the size of the iframe. It is a very common trick used to outsmart the iframe by measuring the height of blocks inside the iframe. But as ServiceNow changes its UI, inevitably the script fails to accommodate those changes.</p>

<p>In Geneva, the latest of these changes was making some top level elements absolute positioned, not counting all height contributing nodes in the calculation, and by adding dynamic content (new AJAX based activity stream) that doesn’t trigger a calculation update. These are outside the scope of the current discussion, we can revisit those another time.</p>

<h2 id="the-fix">The Fix</h2>

<p>While I initially tried to hack in a direct fix for these issues, I found myself consistently thwarted and eventually settled on a single UI Script using a polling technique to recalculate the appropriate size of the iframe.</p>

<h3 id="create-a-global-ui-script">Create a Global UI Script</h3>

<script src="https://gist.github.com/tltoulson/01236ca05273809e7ac3.js"></script>

<p>That’s it. One step. For a more refined approach, you could make the UI Script non-global and manually embed it in your CMS Layout macros or as a dynamic block. But I find this approach works just as well and its only meant to be a workaround anyway, easy to plug in and easy to remove.</p>

      </div>

      <a class="u-url" href="/blog/how-to-fix-cms-iframe-resizing" hidden></a>
    </article><div class="subscribe-form">
  
  <div id="mc_embed_signup">
    <form action="https://codecreative.us14.list-manage.com/subscribe/post?u=98c1070493fa133df8ea08394&amp;id=f759c17295" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
        <h2>Subscribe</h2>
        <div class="subtext">Sign up with your email address to receive news and updates.</div>
        <div>
          <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email Address" required>

          
          <div class="sr-only" aria-hidden="true">
            <input type="text" name="b_98c1070493fa133df8ea08394_f759c17295" tabindex="-1" value="">
          </div>

          <input type="submit" value="Sign Up" name="subscribe" id="mc-embedded-subscribe" class="button">
        </div>
      </div>
    </form>
  </div>
  
</div>
</div>

      </main><footer>
  <div class="footer-content-wrap">
    <p class="text-align-center">
      <a href="/servicenow">Blog</a>
      &nbsp;|&nbsp;
      <a href="/about">About</a>
      &nbsp;|&nbsp;
      <a href="/contact">Contact</a>
    </p>
    <div class="text-align-center">
      
    </div>
  </div>
</footer>
<script type="text/javascript" src="/assets/main.js"></script>
</body>
</html>
