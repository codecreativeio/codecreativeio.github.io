<!DOCTYPE html>
<html>
  <head><meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Julius+Sans+One|Slabo+13px|Open+Sans:300" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://codecreative.io/assets/main.min.134f18f3e3a03f460e46afb7417c639309b72631f8a425376d406f35fac25eb1.css">
<title>Intro to HighCharts in Service Portal | CodeCreative | A ServiceNow Blog</title>
<meta name="description" content="Learn how to build a Service Portal widget that can display custom charts using HighCharts. This is the start of a four part series that will gradually walk through improving the widget from hard coded to configurable.">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?d=20181101201248">
<link rel="canonical" href="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/"><meta property="og:site_name" content="CodeCreative | A ServiceNow Blog">
<meta property="og:title" content="Intro to HighCharts in Service Portal">
<meta property="og:url" content="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/">

<meta property="og:type" content="article">

<meta property="og:description" content="Learn how to build a Service Portal widget that can display custom charts using HighCharts. This is the start of a four part series that will gradually walk through improving the widget from hard coded to configurable.">

<meta property="og:image" content="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/images/social.png">

<meta itemprop="name" content="Intro to HighCharts in Service Portal">
<meta itemprop="url" content="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/">
<meta itemprop="description" content="Learn how to build a Service Portal widget that can display custom charts using HighCharts. This is the start of a four part series that will gradually walk through improving the widget from hard coded to configurable.">

<meta itemprop="thumbnailUrl" content="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/images/social.png">
<link rel="image_src" href="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/images/social.png">
<meta itemprop="image" content="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/images/social.png">


<meta name="twitter:title" content="Intro to HighCharts in Service Portal">
<meta name="twitter:image" content="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/images/social.png">
<meta name="twitter:url" content="https://codecreative.io/blog/intro-to-highcharts-in-service-portal/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="Learn how to build a Service Portal widget that can display custom charts using HighCharts. This is the start of a four part series that will gradually walk through improving the widget from hard coded to configurable.">

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-90280965-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-90280965-1');
</script>

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://codecreative.io/"
    },
    "name" : "Intro to HighCharts in Service Portal",
    "headline" : "Intro to HighCharts in Service Portal",
    "description" : "Learn how to build a Service Portal widget that can display custom charts using HighCharts. This is the start of a four part series that will gradually walk through improving the widget from hard coded to configurable.","image": "https://codecreative.io/blog/intro-to-highcharts-in-service-portal/images/social.png","inLanguage" : "en-US",
      "author" : "Travis Toulson",
      "creator" : "Travis Toulson","publisher": "Travis Toulson",
    "copyrightHolder" : "Travis Toulson",
    "copyrightYear" : "2017",
    "datePublished": "2017-05-03 11:00:00 &#43;0000 UTC",
    "dateModified" : "2017-05-03 11:00:00 &#43;0000 UTC",
    "url" : "https://codecreative.io/blog/intro-to-highcharts-in-service-portal/",
    "wordCount" : "729",
    "keywords" : [ "Blog" ]
}
</script>


  </head>
  <body><header role="banner">
  <h1 class="logo">
      <a href="/">
         <img src="/assets/codecreativelogo.png" alt="Intro to HighCharts in Service Portal" />
         <span class="sr-only">CodeCreative Logo, click to navigate home</span>
      </a>
    </h1>

  <div class="menuToggle">
    <button class="hamburger" type="button" onclick="toggleMenu()">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
      <span class="sr-only">Toggle Menu</span>
    </button>
  </div>

  <nav class="fullNav">
    <ul>
      
      
        <li title="Home">
          <a class="" href="/">Home</a>
        </li>
      
        <li title="Blog">
          <a class="" href="/blog/">Blog</a>
        </li>
      
        <li title="About">
          <a class="" href="/about/">About</a>
        </li>
      
        <li title="Contact">
          <a class="" href="/contact/">Contact</a>
        </li>
      
    </ul>
  </nav>
</header>
<main>
  <header class="banner">
    <h1>Intro to HighCharts in Service Portal</h1>
  </header>

  <div class="content text-content">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

      <header class="post-header">
        <h1 class="post-title p-name sr-only" itemprop="name headline">Intro to HighCharts in Service Portal</h1>
        <p class="post-meta">
            <time class="dt-published" datetime="2017-05-03T11:00:00Z" itemprop="datePublished">
            May 03, 2017
            </time>
          
            
            â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Travis Toulson</span></span>
          
        </p>
      </header>

      <div class="post-content e-content" itemprop="articleBody">
        

<p><strong>WARNING:</strong> The use of HighCharts in this way may require the purchase of an additional license from Highsoft. Use in production at your own risk.</p>

<p><strong>Read the Whole Series:</strong></p>

<ol>
<li>Intro to HighCharts in Service Portal (This Post)</li>
<li><a href="/blog/configuring-highcharts-in-service-portal">Configuring HighCharts in Service Portal</a></li>
<li><a href="/blog/generate-highchart-data-in-a-widget-server-script">Generate HighChart Data in a Widget Server Script</a></li>
<li><a href="/blog/making-the-highchart-widget-reusable">Making the HighChart Widget Reusable</a></li>
</ol>

<p><a href="/downloads/HighCharts-Widget.zip">Download the Widget</a></p>

<hr />

<p>About 2 years ago, I demonstrated how to build <a href="/blog/how-to-build-custom-charts-and-reports">custom charts using HighCharts</a> with a UI Page and kicked off what would eventually become Code Creative. But it didn&rsquo;t occur to me that I haven&rsquo;t revisited custom charts since Service Portal came out until a recent question I received.</p>

<p>So over the next few weeks we&rsquo;re going to take a look at how to upgrade that old and busted UI Page custom chart and trade it in for a Service Portal widget custom chart.</p>

<hr />

<h2 id="step-1-create-highchart-dependencies">Step 1: Create HighChart Dependencies</h2>

<p>After some quick digging through client code, I discovered the updated script that ServiceNow is using for charting and reporting:</p>

<ul>
<li>/scripts/GlideV2ChartingIncludes.jsx?v=03-22-2017_2342</li>
</ul>

<p>Unfortunately, I also discovered that Service Portal does not like the GlideV2ChartingIncludes. So I dug through and discovered that it is using HighCharts v4.1.9 (Istanbul). To get around the charting include issue, I downloaded <a href="http://code.highcharts.com/4.1.9/highcharts.js">HighCharts v4.1.9</a> and created a UI Script of it in ServiceNow so I could create a dependency.</p>

<p>If you aren&rsquo;t already familiar with the Service Portal concept of Dependencies, it is likely exactly what you are thinking. Dependencies allow you to specify which client side libraries a Widget is dependent on. That way, if multiple Widgets on a page are dependent on the same libraries, those libraries are only included in the page once. Very handy.</p>

<p>To create our dependencies, we need to:</p>

<ol>
<li>Navigate to System UI &gt; UI Scripts</li>
<li>Create a new UI Script for HighCharts</li>
<li>Navigate to Service Portal &gt; Dependencies</li>
<li>Create a new Dependency Record</li>
<li>Using the JS Includes related list, create a new JS Include with the above UI Script</li>
</ol>

<figure>
  <img src="images/HighCharts+UI+Script.png" />
  <figcaption>
    Create HighCharts UI Script
  </figcaption>
</figure>

<figure>
  <img src="images/HighCharts+Widget+Dependency.png" />
  <figcaption>
    Create Widget Dependency for HighCharts
  </figcaption>
</figure>

<figure>
  <img src="images/HighCharts+JS+Include.png" />
  <figcaption>
    Create HighCharts JS Include as a Dependency
  </figcaption>
</figure>

<figure>
  <img src="images/Resulting+HighCharts+Widget+Dependency.png" />
  <figcaption>
    Resulting HighCharts Widget Dependency
  </figcaption>
</figure>

<p>Now we are ready to include HighCharts in a Widget!</p>

<hr />

<h2 id="step-2-build-the-chart-widget">Step 2: Build the Chart Widget</h2>

<p>As usual, I prefer to build my Widgets using the Widget Editor but in this case we do have to temporarily dive into the Table/Form view in order to wire up our dependency:</p>

<ol>
<li>Navigate to Service Portal &gt; Service Portal Configuration</li>
<li>Click Widget Editor</li>
<li>Create a New Widget (I named mine HighCharts, details below)</li>
<li>From the backend interface, navigate to Service Portal &gt; Widgets</li>
<li>Open the HighCharts Widget</li>
<li>From the Dependencies related list, add the HighCharts dependency we created previously</li>
<li>Return to the Widget Editor and reload the preview</li>
</ol>

<figure>
  <img src="images/Build+the+Chart+Step+1.png" />
  <figcaption>
    Build the Chart Step 1
  </figcaption>
</figure>

<figure>
  <img src="images/Build+the+Chart+Step+2.png" />
  <figcaption>
    Build the Chart Step 2
  </figcaption>
</figure>

<figure>
  <img src="images/Build+the+Chart+Step+3.png" />
  <figcaption>
    Build the Chart Step 3
  </figcaption>
</figure>

<figure>
  <img src="images/Build+the+Chart+Step+5.png" />
  <figcaption>
    Build the Chart Step 5
  </figcaption>
</figure>

<figure>
  <img src="images/Build+the+Chart+Step+6.png" />
  <figcaption>
    Build the Chart Step 6
  </figcaption>
</figure>

<figure>
  <img src="images/Build+the+Chart+Step+7.png" />
  <figcaption>
    Build the Chart Step 7
  </figcaption>
</figure>

<p>For simplicity sake, I hardcoded the chart series and categories objects but in the future we will generate this server side. The beauty of the Service Portal approach is a clean delineation between HTML template, Client Script, and Server Script&hellip; something that the UI Page muddled horribly. Within Service Portal we can see a very simple HTML and a Client Script that in all reality is a <a href="http://www.highcharts.com/docs/getting-started/your-first-chart">pretty basic HighCharts</a> script with nothing extra.</p>

<p>For reference, here are the scripts:</p>

<p><strong>HTML</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;custom_report&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<p><strong>Client Script</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="cm">/* widget controller */</span>
  <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">chart1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Highcharts</span><span class="p">.</span><span class="nx">Chart</span><span class="p">({</span>  
  <span class="nx">chart</span><span class="o">:</span> <span class="p">{</span>  
      <span class="nx">renderTo</span><span class="o">:</span> <span class="s1">&#39;custom_report&#39;</span><span class="p">,</span>  
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;column&#39;</span>  
  <span class="p">},</span>  
  <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>  
      <span class="nx">text</span><span class="o">:</span> <span class="kc">null</span>  
  <span class="p">},</span>  
  <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>  
      <span class="nx">categories</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;(Empty)&#39;</span><span class="p">,</span> <span class="s1">&#39;Solana Beach CA&#39;</span><span class="p">,</span> <span class="s1">&#39;New York NY&#39;</span><span class="p">,</span> <span class="s1">&#39;Atlanta GA&#39;</span><span class="p">,</span> <span class="s1">&#39;San Diego CA&#39;</span><span class="p">,</span> <span class="s1">&#39;Hamburg&#39;</span><span class="p">,</span> <span class="s1">&#39;Johannesburg&#39;</span><span class="p">,</span> <span class="s1">&#39;Raleigh NC&#39;</span><span class="p">,</span> <span class="s1">&#39;Salem OR&#39;</span><span class="p">,</span> <span class="s1">&#39;Salt Lake City&#39;</span><span class="p">,</span> <span class="s1">&#39;San Diego&#39;</span><span class="p">],</span>  
      <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>  
          <span class="nx">text</span><span class="o">:</span> <span class="kc">null</span>  
      <span class="p">},</span>  
      <span class="nx">labels</span><span class="o">:</span> <span class="p">{</span>  
          <span class="nx">rotation</span><span class="o">:</span> <span class="o">-</span><span class="mi">45</span>  
      <span class="p">}</span>  
  <span class="p">},</span>  
  <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>  
      <span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>  
      <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>  
          <span class="nx">text</span><span class="o">:</span> <span class="kc">null</span>  
      <span class="p">}</span>  
  <span class="p">},</span>  
  <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
        <span class="s1">&#39;name&#39;</span><span class="o">:</span> <span class="s1">&#39;Open&#39;</span><span class="p">,</span>
        <span class="s1">&#39;legendIndex&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;data&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="o">:</span> <span class="s1">&#39;Resolved&#39;</span><span class="p">,</span>
        <span class="s1">&#39;legendIndex&#39;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;data&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>            
    <span class="p">}]</span>  
 <span class="p">});</span>  
<span class="p">}</span>
</code></pre></div>
<hr />

<h2 id="conclusion">Conclusion</h2>

<p>Honestly, this was so quickly accomplished that I am extremely excited about diving deeper into the capabilities of HighCharts and Service Portal. There is so much left to explore. We&rsquo;ve only touched the surface of HighCharts and so far are only using hardcoded data in the client script. So stay tuned over the next few weeks for the rest of this series as we build from this basic widget.</p>

      </div>

      <a class="u-url" href="/blog/intro-to-highcharts-in-service-portal" hidden></a>
    </article><div class="subscribe-form">
  
  <div id="mc_embed_signup">
    <form action="https://codecreative.us14.list-manage.com/subscribe/post?u=98c1070493fa133df8ea08394&amp;id=f759c17295" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
        <h2>Subscribe</h2>
        <div class="subtext">Sign up with your email address to receive news and updates.</div>
        <div>
          <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email Address" required>

          
          <div class="sr-only" aria-hidden="true">
            <input type="text" name="b_98c1070493fa133df8ea08394_f759c17295" tabindex="-1" value="">
          </div>

          <input type="submit" value="Sign Up" name="subscribe" id="mc-embedded-subscribe" class="button">
        </div>
      </div>
    </form>
  </div>
  
</div>
</div>

      </main><footer>
  <div class="footer-content-wrap">
    <p class="text-align-center">
      <a href="/servicenow">Blog</a>
      &nbsp;|&nbsp;
      <a href="/about">About</a>
      &nbsp;|&nbsp;
      <a href="/contact">Contact</a>
    </p>
    <div class="text-align-center">
      
    </div>
  </div>
</footer>
<script type="text/javascript" src="/assets/main.js"></script>
</body>
</html>
