<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Julius+Sans+One|Slabo+13px|Open+Sans:300" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<meta charset="utf-8">
<link rel="stylesheet" href="http://example.org/assets/main.min.d206194abbd1ce5a0ca819b68f103dc21cb08c4864ac772c71d5e60a0e10d86e.css">
<title>3 Ways CSS Widget Scopes Affect Service Portal CSS | CodeCreative | A ServiceNow Blog</title>
<meta name="description" content="Previously, we looked at CSS Widget Scopes in Service Portal. This change in how CSS is applied in Service Portal has a few implications for developers that we need to keep in mind when developing widgets and themes. ">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?d=20181101201248">
<link rel="canonical" href="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/"><meta property="og:site_name" content="CodeCreative | A ServiceNow Blog">
<meta property="og:title" content="3 Ways CSS Widget Scopes Affect Service Portal CSS">
<meta property="og:url" content="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/">

<meta property="og:type" content="article">

<meta property="og:description" content="Previously, we looked at CSS Widget Scopes in Service Portal. This change in how CSS is applied in Service Portal has a few implications for developers that we need to keep in mind when developing widgets and themes. ">

<meta property="og:image" content="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/images/social.png">

<meta itemprop="name" content="3 Ways CSS Widget Scopes Affect Service Portal CSS">
<meta itemprop="url" content="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/">
<meta itemprop="description" content="Previously, we looked at CSS Widget Scopes in Service Portal. This change in how CSS is applied in Service Portal has a few implications for developers that we need to keep in mind when developing widgets and themes. ">

<meta itemprop="thumbnailUrl" content="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/images/social.png">
<link rel="image_src" href="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/images/social.png">
<meta itemprop="image" content="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/images/social.png">


<meta name="twitter:title" content="3 Ways CSS Widget Scopes Affect Service Portal CSS">
<meta name="twitter:image" content="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/images/social.png">
<meta name="twitter:url" content="http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="Previously, we looked at CSS Widget Scopes in Service Portal. This change in how CSS is applied in Service Portal has a few implications for developers that we need to keep in mind when developing widgets and themes. ">

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-90280965-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-90280965-1');
</script>

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "http://example.org/"
    },
    "name" : "3 Ways CSS Widget Scopes Affect Service Portal CSS",
    "headline" : "3 Ways CSS Widget Scopes Affect Service Portal CSS",
    "description" : "Previously, we looked at CSS Widget Scopes in Service Portal. This change in how CSS is applied in Service Portal has a few implications for developers that we need to keep in mind when developing widgets and themes. ","image": "http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/images/social.png","inLanguage" : "en-US",
      "author" : "Travis Toulson",
      "creator" : "Travis Toulson","publisher": "Travis Toulson",
    "copyrightHolder" : "Travis Toulson",
    "copyrightYear" : "2017",
    "datePublished": "2017-02-22 18:00:00 &#43;0000 UTC",
    "dateModified" : "2017-02-22 18:00:00 &#43;0000 UTC",
    "url" : "http://example.org/blog/3-ways-css-widget-scopes-affect-service-portal-css/",
    "wordCount" : "725",
    "keywords" : [ "Blog" ]
}
</script>


  </head>
  <body><header role="banner">
  <h1 class="logo">
      <a href="/">
         <img src="/assets/codecreativelogo.png" alt="3 Ways CSS Widget Scopes Affect Service Portal CSS" />
         <span class="sr-only">CodeCreative Logo, click to navigate home</span>
      </a>
    </h1>

  <div class="menuToggle">
    <button class="hamburger" type="button" onclick="toggleMenu()">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
      <span class="sr-only">Toggle Menu</span>
    </button>
  </div>

  <nav class="fullNav">
    <ul>
      
      
        <li title="Home">
          <a class="" href="/">Home</a>
        </li>
      
        <li title="Blog">
          <a class="" href="/blog/">Blog</a>
        </li>
      
        <li title="About">
          <a class="" href="/about/">About</a>
        </li>
      
        <li title="Contact">
          <a class="" href="/contact/">Contact</a>
        </li>
      
    </ul>
  </nav>
</header>
<main>
  <header class="banner">
    <h1>3 Ways CSS Widget Scopes Affect Service Portal CSS</h1>
  </header>

  <div class="content text-content">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

      <header class="post-header">
        <h1 class="post-title p-name sr-only" itemprop="name headline">3 Ways CSS Widget Scopes Affect Service Portal CSS</h1>
        <p class="post-meta">
            <time class="dt-published" datetime="2017-02-22T18:00:00Z" itemprop="datePublished">
            February 22, 2017
            </time>
          
            
            • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Travis Toulson</span></span>
          
        </p>
      </header>

      <div class="post-content e-content" itemprop="articleBody">
        

<p><a href="/blog/ways-service-portal-changes-css-with-scopes">Previously</a>, we looked at CSS Widget Scopes in Service Portal. This change in how CSS is applied in Service Portal has a few implications for developers that we need to keep in mind when developing widgets and themes.</p>

<h2 id="1-widget-styles-are-protected-from-other-widget-styles">1. Widget styles are protected from other widget styles</h2>

<p>This one should go without saying from the previous article but a widget&rsquo;s CSS will only affect widget instances of that type. Each widget has its own prefixed CSS identifier which appears to be the letter &ldquo;v&rdquo; followed by the sys_id of the widget record, in case you are wondering. That class identifier isolates the scopes of each widget from all other widgets. For example, the Simple List&rsquo;s CSS will only affect instances of the Simple List. It won&rsquo;t accidentally make changes in the Type Ahead Search Widget or the Knowledge Article Widget.</p>

<p>This is awesome because it makes widgets much more portable than previously achievable in CMS. I could share a widget right here on Code Creative, you could install it on your instance and for the most part trust that it will look the same in your instance as it does in mine.</p>

<h2 id="2-widget-styles-are-mostly-protected-from-global-styles">2. Widget styles are (mostly) protected from global styles</h2>

<p>CSS is applied in a cascading way where more <a href="https://css-tricks.com/specifics-on-css-specificity/">specific selectors</a> will override less specific ones. Because Service Portal adds an extra class prefix to all the CSS, you automatically add a point for class specificity. As an additional bonus, it seems the Service Portal adds the widget CSS after the global CSS stylesheets in the rendered html. That means if a global style and a widget style both have the same specificity then the widget style will override the global one.</p>

<p>So for a global CSS to override the styles defined in the widget, the styles would have to include an ID (which are sparse in the Service Portal to begin with) or more CSS classes in the selector (inline styles are the only higher and those can&rsquo;t be applied by a global stylesheet).</p>

<p>So a global style that looked like the following would override a widget style:</p>
<div class="highlight"><pre class="chroma"><code class="language-scss" data-lang="scss"><span class="cm">/* Widget Style */</span>
<span class="nc">.panel</span> <span class="p">{</span>
  <span class="nt">position</span><span class="nd">:</span> <span class="nt">relative</span><span class="o">;</span>
<span class="p">}</span>

<span class="cm">/* Would be overridden by a Global Style */</span>
<span class="nc">.col-md-4</span> <span class="nc">.v7b121bb00f543200437109ece1050e57</span> <span class="nc">.panel</span> <span class="p">{</span>
  <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="o">;</span>
<span class="p">}</span></code></pre></div>
<p>But a global style like the following would not:</p>
<div class="highlight"><pre class="chroma"><code class="language-scss" data-lang="scss"><span class="cm">/* Widget Style */</span>
<span class="nc">.panel</span> <span class="p">{</span>
  <span class="nt">position</span><span class="nd">:</span> <span class="nt">relative</span><span class="o">;</span>
<span class="p">}</span>

<span class="cm">/* Would NOT be overridden by a Global Style */</span>
<span class="nc">.col-md-4</span> <span class="nc">.panel</span> <span class="p">{</span>
  <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="o">;</span>
<span class="p">}</span></code></pre></div>
<p>Bottom line: You really have to go out of your way to override widget styles&hellip; unless of course the widget style is not explicitly defined.</p>

<h2 id="3-global-styles-are-protected-from-widget-styles">3. Global styles are protected from widget styles</h2>

<p>This may not seem readily apparent at first, but the scope prefix added to the CSS selectors also prevents a widget&rsquo;s CSS from affecting anything outside the widget. For example, a widget&rsquo;s CSS can not affect the <strong>html</strong> or <strong>body</strong> elements. To understand this better, lets take a look at what the output of a simple <strong>html</strong> selector:</p>
<div class="highlight"><pre class="chroma"><code class="language-scss" data-lang="scss"><span class="nc">.v7b121bb00f543200437109ece1050e57</span> <span class="nt">html</span> <span class="p">{</span>
  <span class="nt">margin</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
  <span class="nt">padding</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
<span class="p">}</span></code></pre></div>
<p>For those savvy with CSS, you immediately see the shield in effect. The <strong>html</strong> element is not a child of any element with the alphabet soup class (v7b121bb00f543200437109ece1050e57). The top level <strong>html</strong> element will not be selected and the CSS will not be applied. The same is true for any element (html, body, rows, columns, etc) that is outside of the widget&rsquo;s scope.</p>

<p>Even nested SCSS and media queries will result in a prefix:</p>
<div class="highlight"><pre class="chroma"><code class="language-scss" data-lang="scss"><span class="cm">/* The following widget CSS */</span>
<span class="k">@media</span> <span class="n">screen</span> <span class="ow">and</span> <span class="p">(</span><span class="no">min-width</span><span class="o">:</span> <span class="mi">480</span><span class="kt">px</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">html</span> <span class="p">{</span>
    <span class="nt">margin</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
    <span class="nt">padding</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nt">html</span> <span class="p">{</span>
  <span class="nt">body</span> <span class="p">{</span>
    <span class="nt">margin</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
    <span class="nt">padding</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* Results in the following output in the browser */</span>

<span class="k">@media</span> <span class="n">screen</span> <span class="ow">and</span> <span class="p">(</span><span class="no">min-width</span><span class="o">:</span> <span class="mi">480</span><span class="kt">px</span><span class="p">)</span> <span class="p">{</span>
  <span class="nc">.v7b121bb00f543200437109ece1050e57</span> <span class="nt">html</span> <span class="p">{</span>
    <span class="nt">margin</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
    <span class="nt">padding</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nc">.v7b121bb00f543200437109ece1050e57</span> <span class="nt">html</span> <span class="nt">body</span> <span class="p">{</span>
  <span class="nt">margin</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
  <span class="nt">padding</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
<span class="p">}</span></code></pre></div>
<p>So widgets seem to have no loophole for manipulating global styles.</p>

<h2 id="conclusion">Conclusion</h2>

<p>So as you can see, there are a number of barriers in place to isolate and protect the different scopes of styles in Service Portal. While it is still possible to leak styles from global scope to widget scope, care should be taken to protect widgets. This will improve the modularity of your widget code and your Service Portal code and help ensure the reusability of both.</p>

      </div>

      <a class="u-url" href="/blog/3-ways-css-widget-scopes-affect-service-portal-css" hidden></a>
    </article><div class="subscribe-form">
  
  <div id="mc_embed_signup">
    <form action="https://codecreative.us14.list-manage.com/subscribe/post?u=98c1070493fa133df8ea08394&amp;id=f759c17295" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
        <h2>Subscribe</h2>
        <div class="subtext">Sign up with your email address to receive news and updates.</div>
        <div>
          <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email Address" required>

          
          <div class="sr-only" aria-hidden="true">
            <input type="text" name="b_98c1070493fa133df8ea08394_f759c17295" tabindex="-1" value="">
          </div>

          <input type="submit" value="Sign Up" name="subscribe" id="mc-embedded-subscribe" class="button">
        </div>
      </div>
    </form>
  </div>
  
</div>
</div>

      </main><footer>
  <div class="footer-content-wrap">
    <p class="text-align-center">
      <a href="/servicenow">Blog</a>
      &nbsp;|&nbsp;
      <a href="/about">About</a>
      &nbsp;|&nbsp;
      <a href="/contact">Contact</a>
    </p>
    <div class="text-align-center">
      
    </div>
  </div>
</footer>
<script type="text/javascript" src="/assets/main.js"></script>
</body>
</html>
