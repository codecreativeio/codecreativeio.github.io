<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Julius+Sans+One|Slabo+13px|Open+Sans:300" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<meta charset="utf-8">
<link rel="stylesheet" href="https://codecreative.io/assets/main.min.d206194abbd1ce5a0ca819b68f103dc21cb08c4864ac772c71d5e60a0e10d86e.css">
<title>Intro to Configurable Styles for Service Portal Widgets | CodeCreative | A ServiceNow Blog</title>
<meta name="description" content="Sometimes we want to allow portal admins to configure the look and feel of widgets without touching code at all. Let&#39;s take a look at how we can accomplish this with a simple example using Widget Options.">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?d=20181101201248">
<link rel="canonical" href="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/"><meta property="og:site_name" content="CodeCreative | A ServiceNow Blog">
<meta property="og:title" content="Intro to Configurable Styles for Service Portal Widgets">
<meta property="og:url" content="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/">

<meta property="og:type" content="article">

<meta property="og:description" content="Sometimes we want to allow portal admins to configure the look and feel of widgets without touching code at all. Let&#39;s take a look at how we can accomplish this with a simple example using Widget Options.">

<meta property="og:image" content="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/images/social.png">

<meta itemprop="name" content="Intro to Configurable Styles for Service Portal Widgets">
<meta itemprop="url" content="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/">
<meta itemprop="description" content="Sometimes we want to allow portal admins to configure the look and feel of widgets without touching code at all. Let&#39;s take a look at how we can accomplish this with a simple example using Widget Options.">

<meta itemprop="thumbnailUrl" content="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/images/social.png">
<link rel="image_src" href="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/images/social.png">
<meta itemprop="image" content="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/images/social.png">


<meta name="twitter:title" content="Intro to Configurable Styles for Service Portal Widgets">
<meta name="twitter:image" content="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/images/social.png">
<meta name="twitter:url" content="https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="Sometimes we want to allow portal admins to configure the look and feel of widgets without touching code at all. Let&#39;s take a look at how we can accomplish this with a simple example using Widget Options.">

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-90280965-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-90280965-1');
</script>

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://codecreative.io/"
    },
    "name" : "Intro to Configurable Styles for Service Portal Widgets",
    "headline" : "Intro to Configurable Styles for Service Portal Widgets",
    "description" : "Sometimes we want to allow portal admins to configure the look and feel of widgets without touching code at all. Let&#39;s take a look at how we can accomplish this with a simple example using Widget Options.","image": "https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/images/social.png","inLanguage" : "en-US",
      "author" : "Travis Toulson",
      "creator" : "Travis Toulson","publisher": "Travis Toulson",
    "copyrightHolder" : "Travis Toulson",
    "copyrightYear" : "2017",
    "datePublished": "2017-04-07 13:08:00 &#43;0000 UTC",
    "dateModified" : "2017-04-07 13:08:00 &#43;0000 UTC",
    "url" : "https://codecreative.io/blog/intro-to-configurable-styles-for-service-portal-widgets/",
    "wordCount" : "671",
    "keywords" : [ "Blog" ]
}
</script>


  </head>
  <body><header role="banner">
  <h1 class="logo">
      <a href="/">
         <img src="/assets/codecreativelogo.png" alt="Intro to Configurable Styles for Service Portal Widgets" />
         <span class="sr-only">CodeCreative Logo, click to navigate home</span>
      </a>
    </h1>

  <div class="menuToggle">
    <button class="hamburger" type="button" onclick="toggleMenu()">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
      <span class="sr-only">Toggle Menu</span>
    </button>
  </div>

  <nav class="fullNav">
    <ul>
      
      
        <li title="Home">
          <a class="" href="/">Home</a>
        </li>
      
        <li title="Blog">
          <a class="" href="/blog/">Blog</a>
        </li>
      
        <li title="About">
          <a class="" href="/about/">About</a>
        </li>
      
        <li title="Contact">
          <a class="" href="/contact/">Contact</a>
        </li>
      
    </ul>
  </nav>
</header>
<main>
  <header class="banner">
    <h1>Intro to Configurable Styles for Service Portal Widgets</h1>
  </header>

  <div class="content text-content">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

      <header class="post-header">
        <h1 class="post-title p-name sr-only" itemprop="name headline">Intro to Configurable Styles for Service Portal Widgets</h1>
        <p class="post-meta">
            <time class="dt-published" datetime="2017-04-07T13:08:00Z" itemprop="datePublished">
            April 07, 2017
            </time>
          
            
            â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Travis Toulson</span></span>
          
        </p>
      </header>

      <div class="post-content e-content" itemprop="articleBody">
        

<p><strong>Note:</strong> This article assumes a basic working knowledge of Service Portal Designer, Service Portal Widget development, and the Widget Editor.</p>

<p>In my <a href="/blog/6-best-practices-for-service-portal-css">Service Portal CSS Best Practices</a> post, I mentioned that as widget developers we should avoid hardcoding colors and use CSS variables to allow overriding default styles. Sometimes we want to take this idea to the next level by allowing portal admins to configure the look and feel of widgets without touching code at all. Let&rsquo;s take a look at how we can accomplish this with a simple example using Widget Options.</p>

<hr />

<h2 id="step-1-create-a-widget-without-configurable-styles">Step 1: Create a widget without configurable styles</h2>

<p>Ok, so creating a widget is outside the scope of this article but we do need a Service Portal Widget before we can make it configurable. For this exercise, you can use this widget that I&rsquo;ve created called <strong>Option Styles</strong>. It&rsquo;s the greatest and most awesome widget ever created&hellip; it&rsquo;s a blue square.</p>

<p>Alright so it&rsquo;s not the greatest widget ever made but its simple enough to illustrate the technique with as little code as possible. You can download the XML to upload to your instance <a href="downloads/Option+Styles+Widget.zip">here</a> if you want to follow along.</p>

<figure>
  <img src="images/Option+Styles+Widget.png" />
  <figcaption>
    Option Styles Widget
  </figcaption>
</figure>

<hr />

<h2 id="step-2-add-widget-options">Step 2: Add Widget Options</h2>

<figure>
  <img src="images/Add+Widget+Options.gif" />
  <figcaption>
    Add Widget Options
  </figcaption>
</figure>

<p>Next, we need to add a configurable option to our newly created widget. In this case, we want to let ServiceNow admins configure the color of our marvelous square. Branding is important after all. To add an option:</p>

<ol>
<li>Click on the hamburger menu</li>
<li>Click Edit Option Schema from the menu</li>
<li>Click the &ldquo;+&rdquo; sign in the Widget Options Schema modal</li>
<li>Complete the option form, in our case:

<ol>
<li>Label: Color</li>
<li>Name: color</li>
<li>Type: string</li>
<li>Default Value: blue</li>
</ol></li>
<li>Click Save</li>
</ol>

<p>This creates a configurable option for Admins to change and a sensible default value goes a long way to making a more usable widget, so I set mine to blue. I did notice that the default doesn&rsquo;t always work on the first try, so you may have to apply a color manually anyway.</p>

<hr />

<h2 id="step-3-use-widget-option-in-styles">Step 3: Use Widget Option in Styles</h2>

<p>Now that we have a configurable option, we have to actually use it in our code. Service Portal conveniently adds all option values to the <strong>c.options</strong> object using the Name field from the option as the property. In other words, we can access our option via <strong>c.options.color</strong>.</p>

<p>Unfortunately, we can&rsquo;t use this within the CSS - SCSS code block of our widget. This SCSS gets run through a SASS processor and injected into the <head> tag of the html document&hellip; well outside the Angular scope where c.options exists. What we can do is use the Angular ng-style directive but we also need to remove background-color from the CSS - SCSS.</p>

<p><strong>HTML</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;colorSquare&#34;</span> <span class="na">ng-style</span><span class="o">=</span><span class="s">&#34;{&#39;background-color&#39;: c.options.color}&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<p><strong>CSS - SCSS</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-css" data-lang="css"><span class="p">.</span><span class="nc">colorSquare</span> <span class="p">{</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>
<p>The ng-style directive takes a javascript object where the keys are the CSS properties and the values are the values of the CSS property. In this case, we are setting background-color to c.options.color.</p>

<p><strong>Warning:</strong> You might be tempted to use a style tag. At first this will appear to work but avoid this approach. I&rsquo;ll cover the problems associated with this in a future article.</p>

<p>Go ahead and save the widget and you should see the preview reload. If you&rsquo;ve wired it up correctly, the square is still blue thanks to the widget options!</p>

<figure>
  <img src="images/Blue+Square+Widget+Options.png" />
  <figcaption>
    A Blue Square Thanks To Widget Options
  </figcaption>
</figure>

<hr />

<h2 id="step-4-add-and-configure-some-widgets">Step 4: Add and Configure Some Widgets</h2>

<figure>
  <img src="images/Configure+Color+Square+Widget+Options.gif" />
  <figcaption>
    Configure Color Square Widget Options
  </figcaption>
</figure>

<p>Now you can configure the Widget Options. In the above clip, I have added 3 instances of the widget to a new page. You can see me change the color of each instance individually (Ctrl+click brings up the context menu if you aren&rsquo;t already aware of that trick). On the last square, I apply a hex code color: #d5d5d5. Since ng-style generates a style attribute, any method of specifying a CSS color will work here.</p>

<p>Using this technique, you can apply a whole host of configurable styles to your widgets!</p>

      </div>

      <a class="u-url" href="/blog/intro-to-configurable-styles-for-service-portal-widgets" hidden></a>
    </article><div class="subscribe-form">
  
  <div id="mc_embed_signup">
    <form action="https://codecreative.us14.list-manage.com/subscribe/post?u=98c1070493fa133df8ea08394&amp;id=f759c17295" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
        <h2>Subscribe</h2>
        <div class="subtext">Sign up with your email address to receive news and updates.</div>
        <div>
          <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email Address" required>

          
          <div class="sr-only" aria-hidden="true">
            <input type="text" name="b_98c1070493fa133df8ea08394_f759c17295" tabindex="-1" value="">
          </div>

          <input type="submit" value="Sign Up" name="subscribe" id="mc-embedded-subscribe" class="button">
        </div>
      </div>
    </form>
  </div>
  
</div>
</div>

      </main><footer>
  <div class="footer-content-wrap">
    <p class="text-align-center">
      <a href="/servicenow">Blog</a>
      &nbsp;|&nbsp;
      <a href="/about">About</a>
      &nbsp;|&nbsp;
      <a href="/contact">Contact</a>
    </p>
    <div class="text-align-center">
      
    </div>
  </div>
</footer>
<script type="text/javascript" src="/assets/main.js"></script>
</body>
</html>
