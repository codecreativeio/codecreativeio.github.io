<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Julius+Sans+One|Slabo+13px|Open+Sans:300" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<meta charset="utf-8">
<link rel="stylesheet" href="http://example.org/assets/main.min.d206194abbd1ce5a0ca819b68f103dc21cb08c4864ac772c71d5e60a0e10d86e.css">
<title>ECMAScript 5 in ServiceNow Helsinki! | CodeCreative | A ServiceNow Blog</title>
<meta name="description" content="Ok, so it may not be official yet and I know this is a weird thing to get worked up about. Besides, ECMAScript 5 is so 2011, you say. Weren’t we still talking about DVD’s in 2011? Shouldn’t we be talking about ES 6 / ECMAScript 2015?">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?d=20181101201248">
<link rel="canonical" href="http://example.org/blog/ecmascript-5-in-servicenow-helsinki/"><meta property="og:site_name" content="CodeCreative | A ServiceNow Blog">
<meta property="og:title" content="ECMAScript 5 in ServiceNow Helsinki!">
<meta property="og:url" content="http://example.org/blog/ecmascript-5-in-servicenow-helsinki/">

<meta property="og:type" content="article">

<meta property="og:description" content="Ok, so it may not be official yet and I know this is a weird thing to get worked up about. Besides, ECMAScript 5 is so 2011, you say. Weren’t we still talking about DVD’s in 2011? Shouldn’t we be talking about ES 6 / ECMAScript 2015?">

<meta itemprop="name" content="ECMAScript 5 in ServiceNow Helsinki!">
<meta itemprop="url" content="http://example.org/blog/ecmascript-5-in-servicenow-helsinki/">
<meta itemprop="description" content="Ok, so it may not be official yet and I know this is a weird thing to get worked up about. Besides, ECMAScript 5 is so 2011, you say. Weren’t we still talking about DVD’s in 2011? Shouldn’t we be talking about ES 6 / ECMAScript 2015?">


<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-90280965-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-90280965-1');
</script>

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "http://example.org/"
    },
    "name" : "ECMAScript 5 in ServiceNow Helsinki!",
    "headline" : "ECMAScript 5 in ServiceNow Helsinki!",
    "description" : "Ok, so it may not be official yet and I know this is a weird thing to get worked up about. Besides, ECMAScript 5 is so 2011, you say. Weren’t we still talking about DVD’s in 2011? Shouldn’t we be talking about ES 6 / ECMAScript 2015?","inLanguage" : "en-US",
      "author" : "Travis Toulson",
      "creator" : "Travis Toulson","publisher": "Travis Toulson",
    "copyrightHolder" : "Travis Toulson",
    "copyrightYear" : "2016",
    "datePublished": "2016-05-05 16:00:00 &#43;0000 UTC",
    "dateModified" : "2016-05-05 16:00:00 &#43;0000 UTC",
    "url" : "http://example.org/blog/ecmascript-5-in-servicenow-helsinki/",
    "wordCount" : "677",
    "keywords" : [ "Blog" ]
}
</script>


  </head>
  <body><header role="banner">
  <h1 class="logo">
      <a href="/">
         <img src="/assets/codecreativelogo.png" alt="ECMAScript 5 in ServiceNow Helsinki!" />
         <span class="sr-only">CodeCreative Logo, click to navigate home</span>
      </a>
    </h1>

  <div class="menuToggle">
    <button class="hamburger" type="button" onclick="toggleMenu()">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
      <span class="sr-only">Toggle Menu</span>
    </button>
  </div>

  <nav class="fullNav">
    <ul>
      
      
        <li title="Home">
          <a class="" href="/">Home</a>
        </li>
      
        <li title="Blog">
          <a class="" href="/blog/">Blog</a>
        </li>
      
        <li title="About">
          <a class="" href="/about/">About</a>
        </li>
      
        <li title="Contact">
          <a class="" href="/contact/">Contact</a>
        </li>
      
    </ul>
  </nav>
</header>
<main>
  <header class="banner">
    <h1>ECMAScript 5 in ServiceNow Helsinki!</h1>
  </header>

  <div class="content text-content">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

      <header class="post-header">
        <h1 class="post-title p-name sr-only" itemprop="name headline">ECMAScript 5 in ServiceNow Helsinki!</h1>
        <p class="post-meta">
            <time class="dt-published" datetime="2016-05-05T16:00:00Z" itemprop="datePublished">
            May 05, 2016
            </time>
          
            
            • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Travis Toulson</span></span>
          
        </p>
      </header>

      <div class="post-content e-content" itemprop="articleBody">
        

<figure>
  <img src="images/ecma-script-5-servicenow.png" />
  <figcaption>
    Knowledge 16 ECMAScript Session
  </figcaption>
</figure>

<p>Ok, so it may not be <a href="https://community.servicenow.com/message/894008#894008">official</a> yet and I know this is a weird thing to get worked up about. Besides, ECMAScript 5 is so 2011, you say. Weren’t we still talking about <a href="http://www.wired.com/2011/07/netflix-fees-increase-dvd/">DVD’s</a> in 2011? Shouldn’t we be talking about ES 6 / ECMAScript 2015? Aren’t we already using <a href="https://community.servicenow.com/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/13/mini-lab-extending-servicenow-javascript-using-ecmascript-6-polyfills">polyfills</a> for that?</p>

<p>I hear you. I’m with you. But let’s not forget that a lot of code runs on top of ServiceNow’s modified <a href="https://en.wikipedia.org/wiki/Rhino_%28JavaScript_engine%29">Rhino</a> engine, including yours and mine. So it is nice to know they are not so cavalier as to go all <a href="http://www.youtube.com/watch?v=F4lUcjUv37A&amp;t=0m51s">History of the World Part 1 critic</a> with all our hard work.</p>

<p>So while we may lament the lack of true <a href="http://es6-features.org/#BlockScopedVariables">block scopes</a>, <a href="http://es6-features.org/#StringInterpolation">string interpolation</a>, and <a href="http://es6-features.org/#RestParameter">rest parameters</a> (I know you’re all just heartbroken), let’s take a look at what javascript upgrades we <strong><em>might</em></strong> have to look forward to with the release of Helsinki:</p>

<h2 id="new-array-manipulation-functions">New Array Manipulation Functions</h2>

<p>If you are like me, you use the tools that are right in front of you. And if thats the case, your code probably looks like this anytime you are working with an array:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do something with the array value arr[i]
</span><span class="c1"></span><span class="p">}</span>
</code></pre></div>
<p>But this doesn’t tell you a whole lot about the intent of the manipulation. Are you looking for a value, doing something to each value, reducing the array to a value? Who cares, just iterate it! Well here are some functions you may be familiar with in the browser that could show up server side:</p>

<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">Array.isArray()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every">Array.prototype.every()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">Array.prototype.filter()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">Array.prototype.forEach()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf">Array.prototype.indexOf()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf">Array.prototype.lastIndexOf()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array.prototype.map()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">Array.prototype.reduce()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some">Array.prototype.some()</a></li>
</ul>

<p>But let’s face it, the best part is indexOf for all those GlideLists:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">current</span><span class="p">.</span><span class="nx">watch_list</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;Mr. Important&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">current</span><span class="p">.</span><span class="nx">comments</span> <span class="o">=</span> <span class="s1">&#39;Something intelligent so it looks like we\&#39;re working on this right away.&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="native-json">Native JSON</h2>

<p>So, I am just going to say it. This was an annoying way to convert javascript objects to JSON strings and back:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JSON</span><span class="p">().</span><span class="nx">encode</span><span class="p">(</span><span class="nx">someObject</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JSON</span><span class="p">().</span><span class="nx">decode</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
</code></pre></div>
<p>You are probably familiar with this if you do a lot of processor or GlideAjax work. In a recent release, JSON.parse and JSON.stringify were added as class functions. But if you have started using <a href="http://wiki.servicenow.com/index.php?title=Scoped_System_API#gsc.tab=0">scoped apps</a>, then you know that this hateful incantation is still just as frustrating:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="nx">global</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">someObject</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">global</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
</code></pre></div>
<p>Now is this a particularly big deal. Perhaps not. But if you spend any significant amount of time in the browser, old habits die hard. But won’t it be nice if and when we can just use the native variation:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">someObject</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
</code></pre></div>
<h2 id="javascript-properties">Javascript Properties</h2>

<p>This might be the most exciting part of all of this. With any luck, we will see javascript property getters and setters brought to ServiceNow. If you aren’t familiar, getters and setters allow you to add logic when working with object properties directly. So instead of this:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">_a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">setA</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">_a</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">},</span>
  <span class="nx">getA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;Value is: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">_a</span> <span class="p">}</span>
<span class="p">};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">getA</span><span class="p">();</span> <span class="c1">// get, a = &#39;Value is: 1&#39;
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">setA</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// set obj._a = 2
</span><span class="c1"></span></code></pre></div>
<p>You can end up with this:</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">_a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">_a</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">},</span>
  <span class="nx">get</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;Value is: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">_a</span> <span class="p">}</span>
<span class="p">};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="c1">// get, a = &#39;Value is: 1&#39;
</span><span class="c1"></span><span class="nx">obj</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// set obj._a = 2
</span><span class="c1"></span></code></pre></div>
<p>This will likely be most useful in Scoped Apps and Script Includes for adding and changing logic with get and set without changing the contract of the Script Include. If you are already using functions like in the first example, you might not be so impressed. But hey, its another tool in the kit.</p>

<p>Hopefully we will see most of these additions in Helsinki. If nothing else, it will be nice to have some compatibility between my client side scripts and server side scripts. At least until ES6 is mainstream, anyway.</p>

      </div>

      <a class="u-url" href="/blog/ecmascript-5-in-servicenow-helsinki" hidden></a>
    </article><div class="subscribe-form">
  
  <div id="mc_embed_signup">
    <form action="https://codecreative.us14.list-manage.com/subscribe/post?u=98c1070493fa133df8ea08394&amp;id=f759c17295" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
        <h2>Subscribe</h2>
        <div class="subtext">Sign up with your email address to receive news and updates.</div>
        <div>
          <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email Address" required>

          
          <div class="sr-only" aria-hidden="true">
            <input type="text" name="b_98c1070493fa133df8ea08394_f759c17295" tabindex="-1" value="">
          </div>

          <input type="submit" value="Sign Up" name="subscribe" id="mc-embedded-subscribe" class="button">
        </div>
      </div>
    </form>
  </div>
  
</div>
</div>

      </main><footer>
  <div class="footer-content-wrap">
    <p class="text-align-center">
      <a href="/servicenow">Blog</a>
      &nbsp;|&nbsp;
      <a href="/about">About</a>
      &nbsp;|&nbsp;
      <a href="/contact">Contact</a>
    </p>
    <div class="text-align-center">
      
    </div>
  </div>
</footer>
<script type="text/javascript" src="/assets/main.js"></script>
</body>
</html>
